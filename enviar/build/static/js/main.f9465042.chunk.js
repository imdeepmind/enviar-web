(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{140:function(e,t,a){e.exports=a(297)},294:function(e,t,a){},295:function(e,t,a){},296:function(e,t,a){},297:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(25),c=a.n(o),s=a(121),l=a(122),u=a.n(l),i=a(40),p=a(134),m=a(32),d=a(124),g=a(125),h=a(138),E=a(126),b=a(139),f=a(298),O=a(299),v={background:"linear-gradient(to right, #4A00E0, #8E2DE2)",height:"100vh",width:"100%"},y=function(e){return n.a.createElement("div",{className:"d-flex align-items-start justify-content-center flex-column p-5",style:v},n.a.createElement(f.a,null,n.a.createElement(O.a,{xs:"12",lg:"6"},n.a.createElement("h1",{className:"display-3 text-white"},"enviar"),n.a.createElement("h2",{className:"text-light"},"a open source social network that respects your privacy and private data"),n.a.createElement("p",{className:"text-light"},"please ",n.a.createElement("b",{className:"cursor-pointer",onClick:e.loginMethod},"login")," ","or"," ",n.a.createElement("b",{className:"cursor-pointer",onClick:e.registerMethod},"register")," to continue"))))},j=a(309),w=a(303),x=a(304),R=a(305),S=a(302),k=a(307),U=a(306),N=a(23),M=a(300),_=a(301),C=function(e){return n.a.createElement(r.Fragment,null,n.a.createElement(M.a,Object.assign({},e.input,e)),e.meta.touched&&e.meta.error&&n.a.createElement("span",{className:"has-error text-danger"},e.meta.error))},I=Object(U.a)({form:"LoginUser"})(function(e){var t=e.handleSubmit;return console.log(e),n.a.createElement(_.a,{onSubmit:t},n.a.createElement(k.a,{name:"username",component:C,type:"text",validate:[Object(N.required)(),Object(N.length)({min:4,max:24})],placeholder:"Username"}),n.a.createElement(k.a,{name:"password",component:C,type:"password",validate:[Object(N.required)(),Object(N.length)({min:4,max:24})],placeholder:"Password"}),e.authReducer?n.a.createElement("p",{className:"text-danger text-center"},e.authReducer.error):"",n.a.createElement(S.a,{color:"primary",className:"w-100",type:"submit"},"Login"))}),L=a(137),G=[{label:"Male",value:"m"},{label:"Female",value:"f"},{label:"Other",value:"o"}],q=function(e){return n.a.createElement(r.Fragment,null,n.a.createElement(M.a,Object.assign({},e.input,e)),e.meta.touched&&e.meta.error&&n.a.createElement("span",{className:"has-error text-danger"},e.meta.error))},P=function(e){return n.a.createElement(r.Fragment,null,n.a.createElement(L.a,Object.assign({className:"form-control"},e,{onChange:function(t){return e.input.onChange(t)},onBlur:function(){return e.input.onBlur(e.input.value)},options:e.options,value:e.input.value})),e.meta.touched&&e.meta.error&&n.a.createElement("span",{className:"has-error text-danger"},e.meta.error))},T=Object(U.a)({form:"RegisterUser"})(function(e){console.log(e);var t=e.handleSubmit;return n.a.createElement(_.a,{onSubmit:t},n.a.createElement(k.a,{name:"name",component:q,type:"text",validate:[Object(N.required)()],placeholder:"Name"}),n.a.createElement(k.a,{name:"email",component:q,type:"email",validate:[Object(N.required)(),Object(N.email)()],placeholder:"Email"}),n.a.createElement(k.a,{name:"username",component:q,type:"text",validate:[Object(N.required)()],placeholder:"Username"}),n.a.createElement(k.a,{name:"password",component:q,type:"password",validate:[Object(N.required)()],placeholder:"Password"}),n.a.createElement(k.a,{name:"conformPassword",component:q,type:"password",validate:[Object(N.required)()],placeholder:"Password again"}),n.a.createElement(k.a,{name:"country",component:q,type:"text",validate:[Object(N.required)()],placeholder:"Country"}),n.a.createElement(k.a,{name:"gender",component:P,type:"text",validate:[Object(N.required)()],placeholder:"Gender",options:G}),n.a.createElement(k.a,{name:"dob",component:q,type:"date",validate:[Object(N.required)()],placeholder:"Date of Birth"}),e.myError?n.a.createElement("p",{className:"text-danger text-center"},e.myError.error):"",n.a.createElement(S.a,{color:"primary",className:"w-100",type:"submit"},"Register"))}),B=function(e){return n.a.createElement(j.a,{isOpen:e.isOpen,toggle:e.toggle},n.a.createElement(w.a,{toggle:e.toggle,className:"text-capitalize"},e.type),n.a.createElement(x.a,null,"login"===e.type?n.a.createElement(I,{onSubmit:e.onSubmit,myError:e.error?e.error:null}):n.a.createElement(T,{onSubmit:function(t){return e.onSubmit(t)},myError:e.error?e.error:null})),n.a.createElement(R.a,null,n.a.createElement(S.a,{color:"secondary",onClick:e.toggle},"Cancel")))},F="LOGIN_USER",A="REGISTER_USER",D="LOGOUT_USER",J=function(e){return{type:"LOGIN_USER_SUCCESS",payload:e}},W=function(e){return{type:"LOGIN_USER_ERROR",payload:e}},z=function(e){return{type:"REGISTER_USER_SUCCESS",payload:e}},H=function(e){return{type:"REGISTER_USER_ERROR",payload:e}},$=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).toggleLoginModal=function(){a.setState(function(e){return{loginModal:!e.loginModal}})},a.toggleRegisterModal=function(){a.setState(function(e){return{registerModal:!e.registerModal}})},a.onLogin=function(e){a.props.loginUser(e,a.props.history)},a.onRegister=function(e){a.props.registerUser(e,a.props.history)},a.state={loginModal:!1,registerModal:!1},a}return Object(b.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return console.log("props",this.props),n.a.createElement(r.Fragment,null,n.a.createElement(y,{registerMethod:this.toggleRegisterModal,loginMethod:this.toggleLoginModal}),n.a.createElement(B,{isOpen:this.state.loginModal,toggle:this.toggleLoginModal,type:"login",onSubmit:this.onLogin,error:this.props.authReducer?this.props.authReducer:null}),n.a.createElement(B,{isOpen:this.state.registerModal,toggle:this.toggleRegisterModal,type:"register",onSubmit:this.onRegister,error:this.props.authReducer?this.props.authReducer:null}))}}]),t}(r.Component),K=Object(m.b)(function(e){return e},{loginUser:function(e,t){return{type:F,payload:{user:e,history:t}}},registerUser:function(e,t){return{type:A,payload:{user:e,history:t}}}})($),Q=function(e){return n.a.createElement("h1",null,"Home Page")},V=function(e){return n.a.createElement("h1",null,"e404 Page")},X=a(13),Y=a(136),Z=a(308),ee=a(22),te={user:localStorage.getItem("user"),loading:!1},ae=Object(X.c)({form:Z.a,authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(ee.a)({},e,{loading:!0});case"LOGIN_USER_SUCCESS":return Object(ee.a)({},e,{loading:!1,user:t.payload});case"LOGIN_USER_ERROR":return Object(ee.a)({},e,{loading:!1,error:t.payload});case A:return Object(ee.a)({},e,{loading:!0});case"REGISTER_USER_SUCCESS":return Object(ee.a)({},e,{loading:!1,user:t.payload});case"REGISTER_USER_ERROR":return Object(ee.a)({},e,{loading:!1,error:t.payload});case D:return Object(ee.a)({},e,{user:null});default:return Object(ee.a)({},e)}}}),re=a(14),ne=a.n(re),oe=a(18),ce=a(62),se=a(83),le=a.n(se),ue=ne.a.mark(be),ie=ne.a.mark(Oe),pe=ne.a.mark(ye),me=ne.a.mark(je),de=ne.a.mark(we),ge=ne.a.mark(xe),he=ne.a.mark(Re),Ee=function(){var e=Object(ce.a)(ne.a.mark(function e(t,a,r,n,o,c,s){var l;return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l={name:t,email:a,username:r,password:n,country:o,gender:c.value,dob:s},e.abrupt("return",le.a.post("http://localhost:5111/api/v1/auth/register/",l));case 2:case"end":return e.stop()}},e)}));return function(t,a,r,n,o,c,s){return e.apply(this,arguments)}}();function be(e){var t,a,r,n,o,c,s,l,u,i;return ne.a.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return t=e.payload,p.prev=1,a=t.user,r=a.name,n=a.email,o=a.username,c=a.password,s=a.country,l=a.gender,u=a.dob,p.next=5,Object(oe.b)(Ee,r,n,o,c,s,l,u);case 5:return i=p.sent,p.next=8,Object(oe.d)(z(i.data));case 8:p.next=15;break;case 10:return p.prev=10,p.t0=p.catch(1),t.history.push("/login"),p.next=15,Object(oe.d)(H(p.t0.response.data.message));case 15:case"end":return p.stop()}},ue,null,[[1,10]])}var fe=function(){var e=Object(ce.a)(ne.a.mark(function e(t,a){var r;return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={username:t,password:a},e.abrupt("return",le.a.post("http://localhost:5111/api/v1/auth/login/",r));case 2:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}();function Oe(e){var t,a,r,n,o,c;return ne.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,s.prev=1,a=t.user,r=a.username,n=a.password,s.next=5,Object(oe.b)(fe,r,n);case 5:return o=s.sent,localStorage.setItem("user",o.data.token),t.history.push("/"),s.next=10,Object(oe.d)(J(o.data));case 10:s.next=17;break;case 12:return s.prev=12,s.t0=s.catch(1),c=s.t0.response?s.t0.response.data.message:s.t0,s.next=17,Object(oe.d)(W(c));case 17:case"end":return s.stop()}},ie,null,[[1,12]])}var ve=function(){var e=Object(ce.a)(ne.a.mark(function e(t){return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.push("/");case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();function ye(e){var t,a;return ne.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,a=t.history,r.prev=2,r.next=5,Object(oe.b)(ve,a);case 5:localStorage.removeItem("user"),r.next=10;break;case 8:r.prev=8,r.t0=r.catch(2);case 10:case"end":return r.stop()}},pe,null,[[2,8]])}function je(){return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(oe.e)(A,be);case 2:case"end":return e.stop()}},me)}function we(){return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(oe.e)(F,Oe);case 2:case"end":return e.stop()}},de)}function xe(){return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(oe.e)(D,ye);case 2:case"end":return e.stop()}},ge)}function Re(){return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(oe.a)([Object(oe.c)(je),Object(oe.c)(we),Object(oe.c)(xe)]);case 2:case"end":return e.stop()}},he)}var Se=ne.a.mark(ke);function ke(e){return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(oe.a)([Re()]);case 2:case"end":return e.stop()}},Se)}var Ue=Object(Y.a)(),Ne=Object(X.e)(ae,Object(X.a)(Ue));Ue.run(ke),u.a.shim();var Me="/enviar-web",_e=function(e){var t=e.component,a=Object(s.a)(e,["component"]),r=localStorage.getItem("user");return n.a.createElement(i.b,Object.assign({},a,{render:function(e){return r?n.a.createElement(t,e):n.a.createElement(i.a,{to:"/login"})}}))};var Ce=function(){return n.a.createElement(m.a,{store:Ne},n.a.createElement(p.a,{basename:Me},n.a.createElement("div",{className:"App"},n.a.createElement(i.d,null,n.a.createElement(i.b,{path:"/login",exact:!0,component:K}),n.a.createElement(_e,{path:"/",exact:!0,component:Q}),n.a.createElement(i.b,{component:V})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(294),a(295),a(296);c.a.render(n.a.createElement(Ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[140,1,2]]]);
//# sourceMappingURL=main.f9465042.chunk.js.map